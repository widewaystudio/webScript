<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function Node(value){
        this.value = value;
       this.left = null;
        this.right = null;
    }
    let a = new Node("a");
    let b = new Node("b");
    let c = new Node("c");
    let d = new Node("d");
    let e = new Node("e");
    let f = new Node("f");
    let g = new Node("g");
    let h = new Node("h");
    let i = new Node('i');


    a.left = c;
    a.right = b;
    c.left = f;
    c.right = g;
    g.right = h;
    g.left = i;
    b.left = d;
    b.right = e;
 //递归的先序，中序，后序遍历
    function preTraversal(root){
      if(root === null) return ;
      console.log(root.value);
      preTraversal(root.left);
      preTraversal(root.right);

    }
    function midTraversal(root){
        if(root === null) return;
         midTraversal(root.left);
         console.log(root.value);
         midTraversal(root.right);
    }
    function endTraversal(root){
        if(root === null) return;
        endTraversal(root.left);
        endTraversal(root.right);
        console.log(root.value);

    }

    // 非递归先序，中序，后序遍历；

   function pre(root){
        if(root === null) return;
        let flg = true,
            leftChild = [];
        do{
            console.log(root.value);
            if( root.right !== null){
                leftChild.push(root.right);
            }
            root = root.left;
            if(root == null && leftChild.length == 0){
                flg = false;
            }
            if(root == null && leftChild.length !== 0){
                root = leftChild.pop();
            }

        }while(flg)

   }

   function mid(root){
        if(root == null) return ;
        let flg = true,
            rootChild = [],
            temp = '';
        do{
            if(root.left !== null){
                rootChild.push(root);
                root = root.left;
            }else if(root.right !== null){
                root = root.right;
            }
            if(root.left == null && root.right == null){
                console.log(root.value);
                if(rootChild.length !==0 ){
                   temp = rootChild.pop();
                    console.log(temp.value);
                    if(temp.right != null){
                        root = temp.right;
                    }
                }
            }

          if(rootChild.length == 0 && root.left == null && root.right == null){
              console.log(root.value);
              flg = false;
          }

        }while(flg)
       console.log(rootChild);

   }

    function next(root){
        if(root == null) return;
        let flg = true,
            rootChild = [],
            temp = null,
            count = 0,
            already = [],
            temps = '',
            temproot = root;
        do{
            if(root.left !== null){
                rootChild.push(root);
                root = root.left;
            }else if(root.right !== null){
                rootChild.push(root);
                root = root.right;
            }
            if(root.left == null && root.right == null){
                console.log(root.value);
                while(already.length != 0 && (already.slice(-1)[0].right.value == root.value || already.slice(-1)[0].right.value == temps) ){
                    temps = already.pop().value;
                    console.log(temps);
                }

               if(rootChild.length !== 0){
                   temp = rootChild.pop();
                   if(temp.right !== null){
                       root = temp.right;
                       if(temp.value == temproot.value){
                           console.log(temp.value);
                       }else{
                           already.push(temp);
                       }
                   }else{
                       console.log(temp.value);
                   }
               }

            }

            if(root.right == null && root.left == null && already.length == 0 && rootChild.length == 0 ){
                flg = false;
            }
        }while(flg);

    }

next(a);





</script>
</body>
</html>